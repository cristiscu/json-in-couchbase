{"cells":[{"kind":2,"language":"SQL++","value":"CREATE SCOPE default:test.samples IF NOT EXISTS"},{"kind":2,"language":"SQL++","value":"CREATE COLLECTION test.samples.emp_details IF NOT EXISTS"},{"kind":2,"language":"SQL++","value":"INSERT INTO test.samples.emp_details (KEY, VALUE)\r\nVALUES (UUID(),\r\n{\r\n    \"empDetails\": [\r\n        {\r\n            \"kind\": \"person\",\r\n            \"fullName\": \"John Doe\",\r\n            \"age\": 22,\r\n            \"gender\": \"Male\",\r\n            \"phoneNumber\": {\r\n                \"areaCode\": \"206\",\r\n                \"number\": \"1234567\"\r\n            },\r\n            \"children\": [\r\n                {\r\n                    \"name\": \"Jane\",\r\n                    \"gender\": \"Female\",\r\n                    \"age\": \"6\"\r\n                },\r\n                {\r\n                    \"name\": \"John\",\r\n                    \"gender\": \"Male\",\r\n                    \"age\": \"15\"\r\n                }\r\n            ],\r\n            \"citiesLived\": [\r\n                {\r\n                    \"place\": \"Seattle\",\r\n                    \"yearsLived\": [\r\n                        \"1995\"\r\n                    ]\r\n                },\r\n                {\r\n                    \"place\": \"Stockholm\",\r\n                    \"yearsLived\": [\r\n                        \"2005\"\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"kind\": \"person\",\r\n            \"fullName\": \"Mike Jones\",\r\n            \"age\": 35,\r\n            \"gender\": \"Male\",\r\n            \"phoneNumber\": {\r\n                \"areaCode\": \"622\",\r\n                \"number\": \"1567845\"\r\n            },\r\n            \"children\": [\r\n                {\r\n                    \"name\": \"Earl\",\r\n                    \"gender\": \"Male\",\r\n                    \"age\": \"10\"\r\n                },\r\n                {\r\n                    \"name\": \"Sam\",\r\n                    \"gender\": \"Male\",\r\n                    \"age\": \"6\"\r\n                },\r\n                {\r\n                    \"name\": \"Kit\",\r\n                    \"gender\": \"Male\",\r\n                    \"age\": \"8\"\r\n                }\r\n            ],\r\n            \"citiesLived\": [\r\n                {\r\n                    \"place\": \"Los Angeles\",\r\n                    \"yearsLived\": [\r\n                        \"1989\",\r\n                        \"1993\",\r\n                        \"1998\",\r\n                        \"2002\"\r\n                    ]\r\n                },\r\n                {\r\n                    \"place\": \"Washington DC\",\r\n                    \"yearsLived\": [\r\n                        \"1990\",\r\n                        \"1993\",\r\n                        \"1998\",\r\n                        \"2008\"\r\n                    ]\r\n                },\r\n                {\r\n                    \"place\": \"Portland\",\r\n                    \"yearsLived\": [\r\n                        \"1993\",\r\n                        \"1998\",\r\n                        \"2003\",\r\n                        \"2005\"\r\n                    ]\r\n                },\r\n                {\r\n                    \"place\": \"Austin\",\r\n                    \"yearsLived\": [\r\n                        \"1973\",\r\n                        \"1998\",\r\n                        \"2001\",\r\n                        \"2005\"\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"kind\": \"person\",\r\n            \"fullName\": \"Anna Karenina\",\r\n            \"age\": 45,\r\n            \"gender\": \"Female\",\r\n            \"phoneNumber\": {\r\n                \"areaCode\": \"425\",\r\n                \"number\": \"1984783\"\r\n            },\r\n            \"citiesLived\": [\r\n                {\r\n                    \"place\": \"Stockholm\",\r\n                    \"yearsLived\": [\r\n                        \"1992\",\r\n                        \"1998\",\r\n                        \"2000\",\r\n                        \"2010\"\r\n                    ]\r\n                },\r\n                {\r\n                    \"place\": \"Russia\",\r\n                    \"yearsLived\": [\r\n                        \"1998\",\r\n                        \"2001\",\r\n                        \"\"\r\n                    ]\r\n                },\r\n                {\r\n                    \"place\": \"Austin\",\r\n                    \"yearsLived\": [\r\n                        \"1995\",\r\n                        \"1999\"\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n})\r\nRETURNING *"},{"kind":2,"language":"SQL++","value":"select raw ids\r\nfrom [uuid(), uuid(), uuid()] ids"},{"kind":2,"language":"SQL++","value":"select\r\n    empDetails[0].fullName as e_fullName,\r\n    empDetails[0]['fullName'] as e_fullName2,\r\n    empDetails[0].age as e_age,\r\n    empDetails[0].gender as e_gender\r\n    \r\nfrom test.samples.emp_details"},{"kind":2,"language":"SQL++","value":"select\r\n    empDetails[0].phoneNumber as e_phoneNumber,\r\n    empDetails[0].phoneNumber.areaCode as e_areaCode, \r\n    empDetails[0].phoneNumber.`number` as e_number\r\n    \r\nfrom test.samples.emp_details"},{"kind":2,"language":"SQL++","value":"select\r\n    empDetails[0].citiesLived[1].place as e_place1,\r\n    empDetails[0].citiesLived[1].yearsLived as e_yearsLived1,\r\n    empDetails[0].citiesLived[1].yearsLived[0] as e_yearsLived10\r\n    \r\nfrom test.samples.emp_details"},{"kind":2,"language":"SQL++","value":"select\r\n    empDetails[0].children as e_children,\r\n    empDetails[0].children[0].name as e_child_name,\r\n    empDetails[0].children[0].gender as e_child_gender,\r\n    empDetails[0].children[0].age as e_child_age\r\n    \r\nfrom test.samples.emp_details"},{"kind":2,"language":"SQL++","value":"select raw empDetails[*].fullName\r\nfrom test.samples.emp_details"},{"kind":2,"language":"SQL++","value":"select raw empDetails[*].children\r\nfrom test.samples.emp_details"},{"kind":2,"language":"SQL++","value":"select raw empDetails[0].children[*].name\r\nfrom test.samples.emp_details"},{"kind":2,"language":"SQL++","value":"select raw empDetails[0].children[*]\r\nfrom test.samples.emp_details"}]}