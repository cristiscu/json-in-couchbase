{"cells":[{"kind":2,"language":"SQL++","value":"select person.name,\r\n    ARRAY_AVG(person.ratings) as avg_rating\r\nfrom [\r\n    { \"name\": 'John', \"ratings\": [3.5, 5.0, 4.5] },\r\n    { \"name\": 'Mary', \"ratings\": [5.0] },\r\n    { \"name\": 'Jack', \"ratings\": [4.8, 4.4, 4.9] }\r\n] person\r\ngroup by person.name, person.ratings"},{"kind":2,"language":"SQL++","value":"select person.name,\r\n    ARRAY_AVG(person.ratings) as avg_rating,\r\n    g as all_ratings\r\nfrom [\r\n    { \"name\": 'John', \"ratings\": [3.5, 5.0, 4.5] },\r\n    { \"name\": 'Mary', \"ratings\": [5.0] },\r\n    { \"name\": 'Jack', \"ratings\": [4.8, 4.4, 4.9] }\r\n] person\r\ngroup by person.name, person.ratings\r\nGROUP AS g"},{"kind":2,"language":"SQL++","value":"select person.name,\r\n    ARRAY_AVG(person.ratings) as avg_rating,\r\n    (select raw g1.person.ratings from g g1)[0] as all_ratings\r\nfrom [\r\n    { \"name\": 'John', \"ratings\": [3.5, 5.0, 4.5] },\r\n    { \"name\": 'Mary', \"ratings\": [5.0] },\r\n    { \"name\": 'Jack', \"ratings\": [4.8, 4.4, 4.9] }\r\n] person\r\ngroup by person.name, person.ratings\r\nGROUP AS g"}]}