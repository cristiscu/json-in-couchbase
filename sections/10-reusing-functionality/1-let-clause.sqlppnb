{"cells":[{"kind":1,"language":"markdown","value":"see https://docs.couchbase.com/cloud/n1ql/n1ql-language-reference/let.html"},{"kind":2,"language":"SQL++","value":"select UPPER(person.name) as pname, person.ratings\r\nfrom [\r\n    { \"name\": 'John', \"ratings\": [3.5, 5.0, 4.5] },\r\n    { \"name\": 'Mary', \"ratings\": [5.0] },\r\n    { \"name\": 'Adam' },\r\n    { \"name\": 'Jack', \"ratings\": [4.8, 4.4, 4.9] }\r\n] person\r\nwhere UPPER(person.name) <> \"ADAM\""},{"kind":2,"language":"SQL++","value":"select pname, person.ratings\r\nfrom [\r\n    { \"name\": 'John', \"ratings\": [3.5, 5.0, 4.5] },\r\n    { \"name\": 'Mary', \"ratings\": [5.0] },\r\n    { \"name\": 'Adam' },\r\n    { \"name\": 'Jack', \"ratings\": [4.8, 4.4, 4.9] }\r\n] person\r\nLET pname = UPPER(person.name)\r\nwhere pname <> \"ADAM\""},{"kind":2,"language":"SQL++","value":"select\r\n    encode_json(\"This is a string\"),\r\n    encoded_size(encode_json(\"This is a string\")),\r\n    decode_json(encode_json(\"This is a string\"))"},{"kind":2,"language":"SQL++","value":"select\r\n    encode_json(\"This is a string\") e,\r\n    encoded_size(e) s,\r\n    decode_json(e) d"},{"kind":2,"language":"SQL++","value":"select e, encoded_size(e) s, decode_json(e) d\r\nfrom (select encode_json(\"This is a string\") e) x"},{"kind":2,"language":"SQL++","value":"select e, s, d\r\nlet e = encode_json(\"This is a string\"),\r\n    s = encoded_size(e),\r\n    d = decode_json(e)"}]}